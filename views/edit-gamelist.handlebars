<article>
  <a href="/Gamelist"> &larr; Back to Gamelist</a>
  <h2>
    Edit list
  </h2>
  <form class="edit-gamelist-form">
    <input class="" name="gamelist-title" type="text" value="{{gamelists.title}}" />
    <button class="btn waves-effect waves-light" type="submit" name="action">Save Title</button>
  </form>

  {{#each gamelists.games as |game|}}
  <form class="edit-game-form" id="{{game.id}}">
    <div class="row">
      <input class="col s8 m9 l5" id="id_{{game.id}}" name="game-title" type="text" value="{{game.game_title}}" />
      <button class="btn waves-effect waves-light" type="submit" name="action">
        <i class="material-icons">save</i>
      </button>
      <a class="waves-effect waves-light btn delete-btn delete-game" id="id_{{game.id}}">
        <i class="material-icons">delete</i>
      </a>
    </div>
  </form>
  {{/each}}
  <form class="add-game-form">
    <div class="row">
      <input class="col s8 m9 l5" name="newgame-title" type="text" value="Game Title" />
      <button class="btn waves-effect waves-light" type="submit" name="action">
        <i class="material-icons">add</i>
      </button>
    </div>
  </form>
  <br>
  <a type="button" class="waves-effect waves-light btn delete-gamelist-btn delete-btn">Delete list</a>
</article>


{{!-- MODALS --}}
<div id="edit-game-modal" class="modal">
  <div class="modal-content">
    <h4>Enter URL to Update Image or Leave Empty</h4>
    <input name="edit_image_url" type="text" value=""/>
  </div>
  <div class="modal-footer">
    <button class="modal-close waves-effect waves-green btn-flat">Set</button>
  </div>
</div>

<div id="add-game-modal" class="modal">
  <div class="modal-content">
    <h4>Enter URL for the Game Image</h4>
    <input name="add_image_url" type="text" value=""/>
  </div>
  <div class="modal-footer">
    <button class="modal-close waves-effect waves-green btn-flat">Set</button>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var options = {
      onCloseEnd: save
    }
    var elems = document.querySelectorAll('#edit-game-modal');
    var instances = M.Modal.init(elems, options);

    var options = {
      onCloseEnd: create
    }
    var elems = document.querySelectorAll('#add-game-modal');
    var instances = M.Modal.init(elems, options);
  });
</script>

<script src="/javascript/add-game.js"></script>
<script src="/javascript/edit-game.js"></script>
<script src="/javascript/delete-game.js"></script>
<script src="/javascript/edit-gamelist.js"></script>
<script src="/javascript/delete-gamelist.js"></script>